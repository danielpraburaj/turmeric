    <script>
        let model;
        const modelURL = "https://danielpraburaj.github.io/turmeric/model.json"; // âœ… Corrected model path

        const loadModel = async () => {
            try {
                console.log("Loading model...");
                model = await tf.loadGraphModel(modelURL); // âœ… Correct function for Teachable Machine model
                console.log("Model loaded successfully!");
            } catch (error) {
                alert("Failed to load model. Check console for errors.");
                console.error(error);
            }
        };

        document.getElementById("submitBtn").addEventListener("click", async () => {
            const fileInput = document.getElementById("imageUpload");
            if (!fileInput.files.length) {
                alert("Please select an image.");
                return;
            }

            const file = fileInput.files[0];
            let img = document.createElement("img");
            img.src = URL.createObjectURL(file);
            await new Promise(resolve => img.onload = resolve);

            let tensor = tf.browser.fromPixels(img)
                .resizeNearestNeighbor([224, 224])
                .toFloat()
                .expandDims();

            let prediction = await model.predict(tensor).data();
            console.log("Prediction:", prediction);

            // Assuming two classes: 0 = Non-leaded, 1 = Leaded
            document.getElementById("result").innerText = 
                prediction[0] > 0.5 ? "ğŸš¨ Lead Adulterated" : "âœ… Pure Turmeric";
        });

        loadModel();
    </script>
